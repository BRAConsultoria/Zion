<?/***	@copyright DEMP - Soluções em Tecnologia da Informação Ltda*	@author Pablo Vanni - pablovanni@gmail.com*	@since 15/05/2006*	<br>Última Atualização: 15/05/2006<br>*	Autualizada Por: Pablo Vanni - pablovanni@gmail.com<br>*	@name Agrupa as funções de validação em JavaScript* 	@version 2.0* 	@package Framework*/class JavaScript {		/**	*	Inicia código JavaScript	*	@return String	*/	public function iniciaJS()	{		return "<script type=\"text/javascript\" language=\"javascript\">\n";	}			/**	*	Finaliza código JavaScript	*	@return String	*/	public function finalizaJS()	{		return "</script>\n";	}		/**	*	Inicia uma funçao JavaScript	*	@param Nome String - Nome da Função a ser criada	*	@return String	*/	public function iniciaFuncao($Nome, $Parametros)	{		return "function $Nome($Parametros){\n";	}				/**	*	Finaliza código funcao JavaScript	*	@return String	*/	public function finalizaFuncao()	{		return "}\n";	}		/**	*	Cria Variaveis de Data	*	@return String	*/	public function iniciaData()	{		return 	"hoje = \"".date(d."/".m."/".Y)."\";\nanoAtual = \"".date(Y)."\";\n";	}			/**	*	Adciona estrutura entre códigos JavaScript	*	@param Cod String - Código JavaScript	*	@return String	*/	public function entreJS($Cod)	{		return $this->IniciaJS().$Cod.$this->FinalizaJS();	}			/**	*	Retorna uma mensagem de alerta na tela	*	@param Msg String - Mensagem de Alerta	*	@return String	*/	public function alerta($Msg)	{		$Msg = str_replace("\n", "\\n",$Msg);		$Msg = str_replace("<br>", "\\n",$Msg);		$Msg = str_replace("\t", "",$Msg);		$Msg = str_replace("\r", "",$Msg);						return "alert(\"".$Msg."\");\n";	}		/**	*	Redireciona para uma URL qualquer	*	@param Url String - Enedereço para onde deve ser redirecionado	*	@return String	*/		public function redir($Url)	{		return "window.location=\"".$Url."\";\n";			}		/**	*	Fecha automaticamnete uma janela Pop-UP	*	@return String	*/	public function fechar()	{			return "self.close();\n";	}	/**	*	Atualiza a página mãe atravez de uma poup-up	*	@param Pagina String - Endereço da pagina que deve ser recarregada	*	@return String	*/		public function reload($Pagina)	{			return "window.opener.location=\"".$Pagina."\";\n";	}	/**	*	Chama uma função de uma outra pagina	*	@param Funcao String - Funcao que deve ser chamada	*	@return String	*/		public function funcaoMae($Funcao)	{			return "window.opener.$Funcao;\n";	}		/**	*	Bloco de código if	*	@param Condicao String - Condicional a ser passada	*	@return String	*/	public function blocoIf($Condicao, $Comandos)	{		return "if($Condicao){\n$Comandos\n}\n";	}		/**	*	Bloco de código fucus - Retorna o cursor ao campo	*	@param Campo String - Campo a retornar foco	*	@param Foco Boolean - Se verdadeiro retorna Foco	*	@return String	*/	public function blocoFocus($Campo, $Foco)	{		return ($Foco) ? "d.$Campo.focus();\n" : NULL;	}		/**	*	Bloco de código return - retorna verdadeiro ou falso	*	@param Retorna String - Campo a retornar foco	*	@return String	*/	public function blocoReturn($Retorna)	{		return($Retorna) ? "return true;\n" : "return false;\n";	}		public function chamaArquivoJs($Arquivo)	{		return "<script type=\"text/javascript\" src=\"".$_SESSION['JSBase']."js/".$Arquivo."\"></script>\n";	}	public function chamaArquivoCss($Arquivo)	{		return "<link rel=\"stylesheet\" type=\"text/css\" href=\"".$_SESSION['CSSBase']."css/".$Arquivo."\" />\n";	}		public function onLoad($Funcoes)	{		return "$(document.body).ready(function() { $Funcoes });\n";	}		public function erroValidacao($AcessoDireto)	{		return "\$('$AcessoDireto').addClass('erroValidacao');  \$('$AcessoDireto').bind('blur',function(){\$(this).removeClass('erroValidacao');});";	}		public function poupUp()	{		return $this->iniciaFuncao("add_novo","url, nomeForm, nome, largura, altura").' window.open(url+"?NF="+nomeForm+"&CP="+nome, nome, "status=no, width="+largura+", height="+altura+", scrollbars=yes, top=120, left=50"); '.$this->finalizaFuncao();	}} 